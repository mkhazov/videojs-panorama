!function t(e,i,n){function o(a,r){if(!i[a]){if(!e[a]){var h="function"==typeof require&&require;if(!r&&h)return h(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){var i=e[a][1][t];return o(i?i:t)},c,c.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var o=t("../lib/Detector"),s=n(o),a=4,r=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return{constructor:function(i,n){t.call(this,i,n),this.width=i.el().offsetWidth,this.height=i.el().offsetHeight,this.lon=n.initLon,this.lat=n.initLat,this.phi=0,this.theta=0,this.mouseDown=!1,this.isUserInteracting=!1,this.player=i,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(75,this.width/this.height,1,2e3),this.camera.target=new THREE.Vector3(0,0,0),this.renderer=s["default"].webgl?new THREE.WebGLRenderer:new THREE.CanvasRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),this.renderer.autoClear=!1,this.renderer.setClearColor(0,1);var o=e.getTech(i);if(this.supportVideoTexture=s["default"].supportVideoTexture(),this.supportVideoTexture)this.texture=new THREE.Texture(o);else{this.helperCanvas=i.addChild("HelperCanvas",{video:o,width:this.width,height:this.height});var a=this.helperCanvas.el();this.texture=new THREE.Texture(a)}o.style.display="none",this.texture.generateMipmaps=!1,this.texture.minFilter=THREE.LinearFilter,this.texture.maxFilter=THREE.LinearFilter,this.texture.format=THREE.RGBFormat,this.mesh=new THREE.Mesh(new THREE.SphereGeometry(500,60,40),new THREE.MeshBasicMaterial({map:this.texture})),this.mesh.scale.x=-1,this.scene.add(this.mesh),this.el_=this.renderer.domElement,this.el_.classList.add("vjs-video-canvas"),this.attachControlEvents(),this.player.on("play",function(){this.time=(new Date).getTime(),this.animate()}.bind(this)),n.callback&&n.callback()},attachControlEvents:function(){this.on("mousemove",this.handleMouseMove.bind(this)),this.on("touchmove",this.handleMouseMove.bind(this)),this.on("mousedown",this.handleMouseDown.bind(this)),this.on("touchstart",this.handleMouseDown.bind(this)),this.on("mouseup",this.handleMouseUp.bind(this)),this.on("touchend",this.handleMouseUp.bind(this)),this.options_.scrollable&&(this.on("mousewheel",this.handleMouseWheel.bind(this)),this.on("MozMousePixelScroll",this.handleMouseWheel.bind(this))),this.on("mouseenter",this.handleMouseEnter.bind(this)),this.on("mouseleave",this.handleMouseLease.bind(this))},handleMouseUp:function(){this.mouseDown=!1},handleMouseDown:function(t){t.preventDefault(),this.mouseDown=!0,this.onPointerDownPointerX=t.clientX,this.onPointerDownPointerY=t.clientY,this.onPointerDownLon=this.lon,this.onPointerDownLat=this.lat},handleMouseMove:function(t){if(this.options_.clickAndDrag)this.mouseDown&&(this.lon=.2*(this.onPointerDownPointerX-t.clientX)+this.onPointerDownLon,this.lat=.2*(t.clientY-this.onPointerDownPointerY)+this.onPointerDownLat);else{var e=t.pageX-this.el_.offsetLeft,i=t.pageY-this.el_.offsetTop;this.lon=e/this.width*430-225,this.lat=i/this.height*-180+90}},handleMouseWheel:function(t){t.stopPropagation(),t.preventDefault(),t.wheelDeltaY?this.camera.fov-=.05*t.wheelDeltaY:t.wheelDelta?this.camera.fov-=.05*t.wheelDelta:t.detail&&(this.camera.fov+=1*t.detail),this.camera.fov=Math.min(this.options_.maxFov,this.camera.fov),this.camera.fov=Math.max(this.options_.minFov,this.camera.fov),this.camera.updateProjectionMatrix()},handleMouseEnter:function(t){this.isUserInteracting=!0},handleMouseLease:function(t){this.isUserInteracting=!1},animate:function(){if(this.requestAnimationId=requestAnimationFrame(this.animate.bind(this)),!this.player.paused()&&"undefined"!=typeof this.texture&&this.player.readyState()===a){var t=(new Date).getTime();t-this.time>=30&&(this.texture.needsUpdate=!0,this.time=t)}this.render()},render:function(){if(!this.isUserInteracting){var t=this.lat>this.options_.initLat?-1:1,e=this.lon>this.options_.initLon?-1:1;this.options_.backToVerticalCenter&&(this.lat=this.lat>this.options_.initLat-Math.abs(this.options_.returnStepLat)&&this.lat<this.options_.initLat+Math.abs(this.options_.returnStepLat)?this.options_.initLat:this.lat+this.options_.returnStepLat*t),this.options_.backToHorizonCenter&&(this.lon=this.lon>this.options_.initLon-Math.abs(this.options_.returnStepLon)&&this.lon<this.options_.initLon+Math.abs(this.options_.returnStepLon)?this.options_.initLon:this.lon+this.options_.returnStepLon*e)}this.lat=Math.max(-85,Math.min(85,this.lat)),this.phi=THREE.Math.degToRad(90-this.lat),this.theta=THREE.Math.degToRad(this.lon),this.camera.target.x=500*Math.sin(this.phi)*Math.cos(this.theta),this.camera.target.y=500*Math.cos(this.phi),this.camera.target.z=500*Math.sin(this.phi)*Math.sin(this.theta),this.camera.lookAt(this.camera.target),this.supportVideoTexture||this.helperCanvas.update(),this.renderer.clear(),this.renderer.render(this.scene,this.camera)},el:function(){return this.el_}}};e.exports=r},{"../lib/Detector":2}],2:[function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var t=document.createElement("canvas");return!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,Check_Version:function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");null!==i.exec(e)&&(t=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName)if(-1!==navigator.appVersion.indexOf("Trident"))t=11;else{var e=navigator.userAgent,i=new RegExp("Edge/([0-9]{1,}[\\.0-9]{0,})");null!==i.exec(e)&&(t=parseFloat(RegExp.$1))}return t},supportVideoTexture:function(){var t=this.Check_Version();return-1===t||t>=13},getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),t},addGetWebGLMessage:function(t){var e,i,n;t=t||{},e=void 0!==t.parent?t.parent:document.body,i=void 0!==t.id?t.id:"oldie",n=o.getWebGLErrorMessage(),n.id=i,e.appendChild(n)}};"object"===("undefined"==typeof e?"undefined":n(e))&&(e.exports=o)},{}],3:[function(t,e,i){"use strict";var n=document.createElement("canvas");n.className="vjs-video-helper-canvas";var o=function(t){return{constructor:function(e,i){this.videoElement=i.video,this.width=i.width,this.height=i.height,n.width=this.width,n.height=this.height,n.style.display="none",i.el=n,this.context=n.getContext("2d"),this.context.drawImage(this.videoElement,0,0,this.width,this.height),t.call(this,e,i)},getContext:function(){return this.context},update:function(){this.context.drawImage(this.videoElement,0,0,this.width,this.height)},el:function(){return n}}};e.exports=o},{}],4:[function(t,e,i){"use strict";var n=document.createElement("div");n.className="vjs-video-notice-label";var o=function(t){return{constructor:function(e,i){n.innerHTML=i.NoticeMessage,i.el=n,t.call(this,e,i)},el:function(){return n}}};e.exports=o},{}],5:[function(t,e,i){"use strict";function n(){var t,e=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(void 0!==e.style[t])return i[t]}function o(){var t=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t}e.exports={whichTransitionEvent:n,mobileAndTabletcheck:o}},{}],6:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var o=t("./lib/Util"),s=n(o),a=s["default"].mobileAndTabletcheck(),r={clickAndDrag:a,showNotice:!0,NoticeMessage:"Please use your mouse drag and drop the video.",autoHideNotice:3e3,returnStepLat:.5,returnStepLon:2,scrollable:!0,maxFov:105,minFov:51,initLat:0,initLon:-180,backToVerticalCenter:!0,backToHorizonCenter:!0},h=function(t,e){if(t.addClass("vjs-panorama"),t.addChild("Canvas",e),a){var i=t.getChild("Canvas");i.hide(),t.on("play",function(){i.show()})}e.showNotice&&(t.addChild("Notice",e),t.on("play",function(){var i=t.getChild("Notice");e.autoHideNotice>0&&setTimeout(function(){i.addClass("vjs-video-notice-fadeOut");var t=s["default"].whichTransitionEvent(),e=function n(){i.hide(),i.removeClass("vjs-video-notice-fadeOut"),i.off(t,n)};i.on(t,e)},e.autoHideNotice)}))},l=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=function(e){var i=this;t.mergeOption&&(e=t.mergeOption(r,e)),this.ready(function(){h(i,e)})};return e.VERSION="0.0.2",e};i["default"]=l},{"./lib/Util":5}],7:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var o=t("./lib/Canvas"),s=n(o),a=t("./lib/Notice"),r=n(a),h=t("./lib/HelperCanvas"),l=n(h),c=t("./plugin"),d=n(c),u=videojs.Component,p=function(t,e){this.constructor(t,e)},m=(0,s["default"])(u,{getTech:function(t){return t.tech.el()}});m.init=p,videojs.Canvas=u.extend(m);var f=(0,r["default"])(u);f.init=p,videojs.Notice=u.extend(f);var v=(0,l["default"])(u);v.init=p,videojs.HelperCanvas=u.extend(v),videojs.plugin("panorama",(0,d["default"])({mergeOption:function(t,e){return videojs.util.mergeOptions(t,e)}}))},{"./lib/Canvas":1,"./lib/HelperCanvas":3,"./lib/Notice":4,"./plugin":6}]},{},[7]);