!function e(t,i,n){function o(r,a){if(!i[r]){if(!t[r]){var h="function"==typeof require&&require;if(!a&&h)return h(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[r]={exports:{}};t[r][0].call(d.exports,function(e){var i=t[r][1][e];return o(i?i:e)},d,d.exports,e,t,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=e("../lib/Detector"),s=n(o),r=4,a=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return{constructor:function(i,n){e.call(this,i,n),this.width=i.el().offsetWidth,this.height=i.el().offsetHeight,this.lon=0,this.lat=0,this.phi=0,this.theta=0,this.mouseDown=!1,this.player=i,this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(75,this.width/this.height,1,2e3),this.camera.target=new THREE.Vector3(0,0,0),this.renderer=s["default"].webgl?new THREE.WebGLRenderer:new THREE.CanvasRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),this.renderer.autoClear=!1,this.renderer.setClearColor(0,1);var o=t.getTech(i);this.texture=new THREE.Texture(o),o.style.display="none",this.texture.generateMipmaps=!1,this.texture.minFilter=THREE.LinearFilter,this.texture.maxFilter=THREE.LinearFilter,this.texture.format=THREE.RGBFormat,this.mesh=new THREE.Mesh(new THREE.SphereGeometry(500,60,40),new THREE.MeshBasicMaterial({map:this.texture})),this.mesh.scale.x=-1,this.scene.add(this.mesh),this.el_=this.renderer.domElement,this.el_.classList.add("vjs-video-canvas"),this.attachControlEvents(),this.player.on("play",function(){this.time=(new Date).getTime(),this.animate()}.bind(this)),n.callback&&n.callback()},attachControlEvents:function(){this.on("mousemove",this.handleMouseMove.bind(this)),this.on("touchmove",this.handleMouseMove.bind(this)),this.on("mousedown",this.handleMouseDown.bind(this)),this.on("touchstart",this.handleMouseDown.bind(this)),this.on("mouseup",this.handleMouseUp.bind(this)),this.on("touchend",this.handleMouseUp.bind(this)),this.on("mousewheel",this.handleMouseWheel.bind(this)),this.on("MozMousePixelScroll",this.handleMouseWheel.bind(this))},handleMouseUp:function(){this.mouseDown=!1},handleMouseDown:function(e){e.preventDefault(),this.mouseDown=!0,this.onPointerDownPointerX=e.clientX,this.onPointerDownPointerY=e.clientY,this.onPointerDownLon=this.lon,this.onPointerDownLat=this.lat},handleMouseMove:function(e){if(this.options_.clickAndDrag)this.mouseDown&&(this.lon=.2*(this.onPointerDownPointerX-e.clientX)+this.onPointerDownLon,this.lat=.2*(e.clientY-this.onPointerDownPointerY)+this.onPointerDownLat);else{var t=e.pageX-this.el_.offsetLeft,i=e.pageY-this.el_.offsetTop;this.lon=t/this.width*430-225,this.lat=i/this.height*-180+90}},handleMouseWheel:function(e){e.wheelDeltaY?this.camera.fov-=.05*e.wheelDeltaY:e.wheelDelta?this.camera.fov-=.05*e.wheelDelta:e.detail&&(this.camera.fov+=1*e.detail),this.camera.updateProjectionMatrix()},animate:function(){if(this.requestAnimationId=requestAnimationFrame(this.animate.bind(this)),!this.player.paused()&&"undefined"!=typeof this.texture&&this.player.readyState()===r){var e=(new Date).getTime();e-this.time>=30&&(this.texture.needsUpdate=!0,this.time=e)}this.render()},render:function(){this.lat=Math.max(-85,Math.min(85,this.lat)),this.phi=THREE.Math.degToRad(90-this.lat),this.theta=THREE.Math.degToRad(this.lon),this.camera.target.x=500*Math.sin(this.phi)*Math.cos(this.theta),this.camera.target.y=500*Math.cos(this.phi),this.camera.target.z=500*Math.sin(this.phi)*Math.sin(this.theta),this.camera.lookAt(this.camera.target),this.renderer.clear(),this.renderer.render(this.scene,this.camera)},el:function(){return this.el_}}};t.exports=a},{"../lib/Detector":2}],2:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,i,n;e=e||{},t=void 0!==e.parent?e.parent:document.body,i=void 0!==e.id?e.id:"oldie",n=o.getWebGLErrorMessage(),n.id=i,t.appendChild(n)}};"object"===("undefined"==typeof t?"undefined":n(t))&&(t.exports=o)},{}],3:[function(e,t,i){"use strict";var n=document.createElement("div");n.className="vjs-video-notice-label",n.innerHTML="Please use your mouse drag and drop the video.";var o=function(e){return{constructor:function(t,i){i.el=n,e.call(this,t,i)},el:function(){return n}}};t.exports=o},{}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n={clickAndDrag:!1,showNotice:!0},o=function(e,t){e.addClass("vjs-panorama"),e.addChild("Canvas",t),t.showNotice&&(e.addChild("Notice",t),setTimeout(function(){e.removeChild("Notice")},3e3))},s=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=function(t){var i=this;e.mergeOption&&(t=e.mergeOption(n,t)),this.ready(function(){o(i,t)})};return t.VERSION="0.0.1",t};i["default"]=s},{}],5:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=e("./lib/Canvas"),s=n(o),r=e("./lib/Notice"),a=n(r),h=e("./plugin"),l=n(h),d=videojs.getComponent("Component"),u=(0,s["default"])(d,{getTech:function(e){return e.tech({IWillNotUseThisInPlugins:!0}).el()}});videojs.registerComponent("Canvas",videojs.extend(d,u));var c=(0,a["default"])(d);videojs.registerComponent("Notice",videojs.extend(d,c)),videojs.plugin("panorama",(0,l["default"])({mergeOption:function(e,t){return videojs.mergeOptions(e,t)}}))},{"./lib/Canvas":1,"./lib/Notice":3,"./plugin":4}]},{},[5]);